(()=>{var e,n={8290:(e,n,t)=>{(n=t(23645)(!0)).push([e.id,"body {\n  margin: 0;\n  touch-action: none;\n  overscroll-behavior-x: none;\n  height: 100%;\n  background-color: #f9f9f9;\n  font-family: sans-serif;\n}\na {\n  text-decoration: none;\n}\na:hover {\n  text-decoration: underline;\n}\na:visited {\n  color: blue;\n}\n","",{version:3,sources:["/Users/cjgammon/Desktop/projects/0000repos/github.com/cjgammon/ld49-unstable-client/src/scripts/styles.less","styles.less"],names:[],mappings:"AAEA;EAEQ,SAAA;EACA,kBAAA;EACA,2BAAA;EACA,YAAA;EACA,yBAAA;EACA,uBAAA;ACFR;ADLA;EAWQ,qBAAA;ACHR;ADKQ;EACI,0BAAA;ACHZ;ADMQ;EACI,WAAA;ACJZ",file:"styles.less",sourcesContent:["\n\n:global {\n    body{\n        margin: 0;\n        touch-action: none;\n        overscroll-behavior-x: none;\n        height: 100%;\n        background-color: #f9f9f9;\n        font-family: sans-serif;\n    }\n\n    a{\n        text-decoration: none;\n\n        &:hover{\n            text-decoration: underline;\n        }\n        \n        &:visited{\n            color: blue;\n        }\n    }\n}\n",":global body {\n  margin: 0;\n  touch-action: none;\n  overscroll-behavior-x: none;\n  height: 100%;\n  background-color: #f9f9f9;\n  font-family: sans-serif;\n}\n:global a {\n  text-decoration: none;\n}\n:global a:hover {\n  text-decoration: underline;\n}\n:global a:visited {\n  color: blue;\n}\n"]}]),e.exports=n},68186:(e,n,t)=>{(n=t(23645)(!0)).push([e.id,"._2p13ItfkLcjIT8bRmb78NM {\n  margin: auto;\n  padding-top: 57px;\n  box-sizing: border-box;\n}\n._2p13ItfkLcjIT8bRmb78NM img {\n  width: 100%;\n}\n","",{version:3,sources:["/Users/cjgammon/Desktop/projects/0000repos/github.com/cjgammon/ld49-unstable-client/src/scripts/views/mainView.less","mainView.less"],names:[],mappings:"AAAA;EACI,YAAA;EACA,iBAAA;EACA,sBAAA;ACCJ;ADJA;EAMQ,WAAA;ACCR",file:"mainView.less",sourcesContent:[".main{\n    margin: auto;\n    padding-top: 57px;\n    box-sizing: border-box;\n    \n    img{\n        width: 100%;\n    }\n}",".main {\n  margin: auto;\n  padding-top: 57px;\n  box-sizing: border-box;\n}\n.main img {\n  width: 100%;\n}\n"]}]),n.locals={main:"_2p13ItfkLcjIT8bRmb78NM"},e.exports=n},64380:(e,n,t)=>{var o=t(93379),r=t(8290);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);var s={insert:"head",singleton:!1};o(r,s);e.exports=r.locals||{}},27468:(e,n,t)=>{var o=t(93379),r=t(68186);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);var s={insert:"head",singleton:!1};o(r,s);e.exports=r.locals||{}},45381:(e,n,t)=>{"use strict";var o=t(67294),r=t(73935),s=t(50029);const a=(0,t(37531).q_)();class i{constructor(){window.indexedDB||window.alert("Your browser doesn't support a stable version of IndexedDB. Such and such feature will not be available."),this.request=indexedDB.open("be_nft",1),this.request.onupgradeneeded=e=>this.upgradeneeded(e),this.request.onsuccess=e=>this.success(e)}getDatabase(){return this.db}upgradeneeded(e){let n,t;console.log("upgradeneeded"),n=e.target.result,this.db=n,e.oldVersion<1&&(this.initiating=!0,t=n.createObjectStore("nft",{keyPath:"id",autoIncrement:!0}),t.createIndex("tokenId","tokenId",{unique:!0}),t.createIndex("hash","hash",{unique:!1})),e.oldVersion}success(e){this.db=e.target.result,this.db.onerror=this.error,this.initiating,console.log("success",this.db),this.complete()}complete(){this.oncomplete&&this.oncomplete()}error(){console.log("error",arguments)}}t(64380);var l=t(27468),c=t.n(l);class d extends o.Component{handle_singlePlayer_CLICK(){a.push("/game")}handle_multiPlayer_CLICK(){a.push("/game/1234")}render(){return o.createElement("div",null,o.createElement("div",{className:c().main},"hello",o.createElement("button",{onClick:this.handle_singlePlayer_CLICK},"single player"),o.createElement("button",{onClick:this.handle_multiPlayer_CLICK},"multi player")))}}class u extends o.Component{render(){return o.createElement("div",null,"game ",this.props.room)}}var m=t(46074),h=t(17496),p=t(36808),b=t.n(p);const A={mode:"",bcModel:null};class g{static init(){}static createMapping(e,n){return new Promise(((t,o)=>{let r=window._db.getDatabase().transaction(["nft"],"readwrite").objectStore("nft").add({tokenId:e,hash:n});r.onsuccess=t,r.onerror=o}))}static getNFTByTokenID(e){return new Promise(((n,t)=>{let o=window._db.getDatabase().transaction(["nft"],"readwrite").objectStore("nft").index("tokenId").get(e);o.onsuccess=n,o.onerror=t}))}static uploadImage(e){const n=new FormData;return n.append("mint_asset",e.image),fetch("/upload",{method:"POST",body:n})}static uploadJSON(e){const n=new FormData;return n.append("mint_name",e.name),n.append("mint_desc",e.description),n.append("mint_addr","0x201b134D61510E97bAD396B0B38A2663Bc73B16D"),n.append("mint_mid",e.id),n.append("mint_imageurl",e.url),fetch("/upload",{method:"POST",body:n})}static imxMint(e,n){const t=new FormData;return t.append("tokenId",e),t.append("metadata",n),t.append("wallet",A.bcModel.wallet),fetch("/mint/imx",{method:"POST",body:t}).then((e=>e.json()))}static mumbaiMint(e){const n=new FormData;return n.append("cid",e),n.append("wallet",A.bcModel.wallet),fetch("/mint/polygon",{method:"POST",body:n}).then((e=>e.json()))}}const w=class{constructor(){this.wallet=null}async checkToInit(){return new Promise((e=>{}))}async mint(e,n){}async getMyNFTS(){}};const f=class extends w{constructor(){super(),this.link=new h.Link("https://link.uat.x.immutable.com"),this.wallet=null,this.client=null;let e=b().get("walletAddress");this.wallet=e}async checkToInit(){return new Promise((e=>{this.wallet&&this.client?e(null):this.initIMX().then((()=>{e(null)}))}))}async initIMX(){var e;const n=null!==(e="https://api.uat.x.immutable.com/v1")?e:"",t=await m.ImmutableXClient.build({publicApiUrl:n});return this.client=t,this.linkSetup()}async linkSetup(){if(!this.wallet){const e=(await this.link.setup({})).address;this.wallet=e,b().set("walletAddress",e)}}async mint(e,n){return g.createMapping(e,n).then((()=>g.imxMint(e,"metadata")))}async getMyNFTS(){return this.client.getAssets({user:this.wallet})}};const y=class extends w{constructor(){super(),this.wallet=null;let e=b().get("walletAddress");this.wallet=e}async checkToInit(){return new Promise((e=>{this.wallet?e(null):this.init().then((()=>{e(null)}))}))}async init(){if(window.ethereum){let e=window.ethereum;e.selectedAddress||await e.enable(),e.request({method:"eth_requestAccounts"}),console.log(e.selectedAddress),this.wallet=e.selectedAddress,b().set("walletAddress",this.wallet)}}async mint(e,n){return g.mumbaiMint(n)}async getMyNFTS(){return new Promise((e=>{}))}};class v extends o.Component{constructor(e){super(e),window._db=new i,window._db.oncomplete=this.db_complete.bind(this);const n=new URLSearchParams(window.location.search),t=Object.fromEntries(n.entries());if(t.mode)switch(A.mode=t.mode,document.title+=` | ${A.mode}`,A.mode){case"mumbai":A.bcModel=new y}else A.bcModel=new f,document.title+=" | IMX"}db_complete(){console.log("db complete")}render(){return this.renderContent()}renderContent(){return o.createElement(s.rs,null,o.createElement(s.AW,{path:"/game/1234"},o.createElement(u,{room:"1234"})),o.createElement(s.AW,{path:"/game"},o.createElement(u,null)),o.createElement(s.AW,{path:"/"},o.createElement(d,null)))}}const x=(0,s.EN)(v);t.g.Buffer=t.g.Buffer||t(48764).Buffer,r.render(o.createElement(s.F0,{history:a},o.createElement(x,null)),document.getElementById("root"))},88677:()=>{},92317:()=>{},9327:()=>{},1701:()=>{},6541:()=>{},46896:()=>{},62808:()=>{},82169:()=>{},11160:()=>{},49868:()=>{},80950:()=>{},46601:()=>{},89214:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},15946:()=>{},68587:()=>{},56619:()=>{},77108:()=>{},52361:()=>{},94616:()=>{},6567:()=>{}},t={};function o(e){var r=t[e];if(void 0!==r)return r.exports;var s=t[e]={id:e,loaded:!1,exports:{}};return n[e].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}o.m=n,e=[],o.O=(n,t,r,s)=>{if(!t){var a=1/0;for(c=0;c<e.length;c++){for(var[t,r,s]=e[c],i=!0,l=0;l<t.length;l++)(!1&s||a>=s)&&Object.keys(o.O).every((e=>o.O[e](t[l])))?t.splice(l--,1):(i=!1,s<a&&(a=s));i&&(e.splice(c--,1),n=r())}return n}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[t,r,s]},o.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return o.d(n,{a:n}),n},o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};o.O.j=n=>0===e[n];var n=(n,t)=>{var r,s,[a,i,l]=t,c=0;for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(l)var d=l(o);for(n&&n(t);c<a.length;c++)s=a[c],o.o(e,s)&&e[s]&&e[s][0](),e[a[c]]=0;return o.O(d)},t=self.webpackChunkldjam=self.webpackChunkldjam||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var r=o.O(void 0,[469],(()=>o(45381)));r=o.O(r)})();
//# sourceMappingURL=main.min.js.map